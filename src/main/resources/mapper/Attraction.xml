<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
		PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.attraction.mapper.AttractionMapper">
	<!--리졸트 맵: select 한 결과와 vo안의 컬럼명이 일치 하지 않을 때-->

	<select id="selectAll" resultType="Attraction">
		select * from attraction_info
	</select>

	<select id="selectOne" parameterType="string" resultType="Attraction">
		select * from attraction_info where content_id = #{content_id}
	</select>

<!--	<insert id="insert" parameterType="Attraction">-->
<!--		insert into attraction_info values (#{num}, #{name}, #{address})-->
<!--	</insert>-->

<!--	<delete id="delete" parameterType="String">-->
<!--		delete from attraction_info where num = #{num}-->
<!--	</delete>-->

<!--	<update id="update" parameterType="Attraction">-->
<!--		update attraction_info set name = #{name}, address = #{address} where num = #{num}-->
<!--	</update>-->

	<select id="search" parameterType="Attraction" resultType="Attraction">
		select * from attraction_info where 1=1
		<if test="title != null or title != ''">
			and title like concat("%", #{title}, "%")
		</if>
		<if test="gugun_code != null or gugun_code != ''">
			and gugun_code like #{gugun_code}
		</if>
		<if test="sido_code != null or sido_code != ''">
			and sido_code like #{sido_code}
		</if>
		<if test="content_type_id != null or content_type_id != ''">
			and content_type_id like #{content_type_id}
		</if>
	</select>

	<insert id="insertReview" parameterType="Review">
		insert into review values (#{review_id}, #{content_id}, #{userId},
								   #{title},#{content},#{date},#{star})
	</insert>
</mapper>